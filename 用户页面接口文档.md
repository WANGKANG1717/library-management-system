# 前端接口文档


**简介**:前端接口文档


**HOST**:http://localhost:8989


**联系人**:


**Version**:1.0.0


**接口路径**:/v3/api-docs


[TOC]






# 借阅历史


## 查询借阅历史


**接口地址**:`/user/borrow_history`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|pageNum|第几页|query|true|integer(int32)||
|pageSize|每页大小|query|true|integer(int32)||
|userId|用户id|query|true|integer(int64)||
|borrowStatus|借阅状态 0已借出 / 1已归还 / 2过期未还 / 3已预约|query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 新增借阅


**接口地址**:`/user/borrow_history`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userId": 0,
  "bookId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|borrowHistoryDto|需要传两个参数userId, bookId， 形式{ "userId": 0, "bookId": 0 }|body|true|BorrowHistoryDto|BorrowHistoryDto|
|&emsp;&emsp;userId|||false|integer(int64)||
|&emsp;&emsp;bookId|||false|integer(int64)||
|borrowHistoryDto|需要传两个参数userId, bookId， 形式{ "userId": 0, "bookId": 0 }|query|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 归还图书


**接口地址**:`/user/borrow_history`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userId": 0,
  "bookId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|borrowHistoryDto|需要传两个参数userId, bookId， 形式{ "userId": 0, "bookId": 0 }|body|true|BorrowHistoryDto|BorrowHistoryDto|
|&emsp;&emsp;userId|||false|integer(int64)||
|&emsp;&emsp;bookId|||false|integer(int64)||
|borrowHistoryDto|需要传两个参数userId, bookId， 形式{ "userId": 0, "bookId": 0 }|query|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 预约图书


**接口地址**:`/user/borrow_history/reserve`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "userId": 0,
  "bookId": 0
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|borrowHistoryDto|需要传两个参数userId, bookId， 形式{ "userId": 0, "bookId": 0 }|body|true|BorrowHistoryDto|BorrowHistoryDto|
|&emsp;&emsp;userId|||false|integer(int64)||
|&emsp;&emsp;bookId|||false|integer(int64)||
|borrowHistoryDto|需要传两个参数userId, bookId， 形式{ "userId": 0, "bookId": 0 }|query|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 根据用户id拿到统计数据


**接口地址**:`/user/borrow_history/statistics`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userId||query|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


# 图书管理


## 查询图书列表


**接口地址**:`/book/list`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|pageNum|第几页|query|true|integer(int32)||
|pageSize|每页大小|query|true|integer(int32)||
|bookName|书名|query|true|string||
|author|作者|query|true|string||
|category|分类|query|true|string||
|isbn|isbn|query|true|string||
|inventory|库存|query|true|integer(int32)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 根据图书id查询图书详细信息


**接口地址**:`/book/get/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id|图书id|path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


# 登录


## 登出接口，需要在网络请求headers里面带上token


**接口地址**:`/user/logout`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 登录接口


**接口地址**:`/user/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "id": 0,
  "number": "",
  "userName": "",
  "password": "",
  "avatar": "",
  "sex": "",
  "type": "",
  "phone": "",
  "email": "",
  "address": "",
  "status": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userDto|需要传两个参数number, password， 形式{ "number": 0, "password": 0 }|body|true|UserDto|UserDto|
|&emsp;&emsp;id|||false|integer(int64)||
|&emsp;&emsp;number|||false|string||
|&emsp;&emsp;userName|||false|string||
|&emsp;&emsp;password|||false|string||
|&emsp;&emsp;avatar|||false|string||
|&emsp;&emsp;sex|||false|string||
|&emsp;&emsp;type|||false|string||
|&emsp;&emsp;phone|||false|string||
|&emsp;&emsp;email|||false|string||
|&emsp;&emsp;address|||false|string||
|&emsp;&emsp;status|||false|string||
|userDto|需要传两个参数number, password， 形式{ "number": 0, "password": 0 }|query|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


# 用户


## 更新用户信息


**接口地址**:`/user`


**请求方式**:`PUT`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "id": 0,
  "number": "",
  "userName": "",
  "password": "",
  "avatar": "",
  "sex": "",
  "type": "",
  "phone": "",
  "email": "",
  "address": "",
  "status": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|userDto|需要传两个参数number, password， 形式{ "number": 0, "password": 0 }|body|true|UserDto|UserDto|
|&emsp;&emsp;id|||false|integer(int64)||
|&emsp;&emsp;number|||false|string||
|&emsp;&emsp;userName|||false|string||
|&emsp;&emsp;password|||false|string||
|&emsp;&emsp;avatar|||false|string||
|&emsp;&emsp;sex|||false|string||
|&emsp;&emsp;type|||false|string||
|&emsp;&emsp;phone|||false|string||
|&emsp;&emsp;email|||false|string||
|&emsp;&emsp;address|||false|string||
|&emsp;&emsp;status|||false|string||
|userDto|需要传一个userDto实体|query|false|||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```


## 根据id拿到用户详细信息


**接口地址**:`/user/{id}`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|id||path|true|integer(int64)||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResponseResult|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|msg||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"msg": "",
	"data": {}
}
```